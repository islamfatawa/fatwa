<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>البحث في الفتاوى</title>

<!-- Tailwind CSS -->
<script src="https://cdn.tailwindcss.com"></script>

<!-- Algolia -->
<script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.js"></script>

</head>
<body class="bg-gray-50 p-6">

<div class="max-w-xl mx-auto">

  <h1 class="text-2xl font-bold text-center mb-6">البحث في الفتاوى</h1>

  <input 
    id="search"
    class="w-full p-3 border rounded-lg shadow mb-4"
    placeholder="اكتب نص الفتوى أو كلمة للبحث..."
  />

  <ul id="results" class="space-y-3"></ul>

</div>

<script>
  const client = algoliasearch("3XD12I7386", "89e8e132a05fdb02275f64dec8d14d05");
  const index = client.initIndex("fatawa");

  document.getElementById("search").oninput = async (e) => {
    const res = await index.search(e.target.value);
    const ul = document.getElementById("results");
    ul.innerHTML = "";

    res.hits.forEach(h => {
      ul.innerHTML += `
        <li class="bg-white p-4 rounded-lg shadow">
          <a class="font-bold text-blue-600"
             href="https://islamfatawa.github.io/fatwa/html_pages/fatwa_${h.id}.html">
             ${h.q}
          </a>
        </li>
      `;
    });
  };
</script>

</body>
</html>
